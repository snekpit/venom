name        : nodejs
version     : 18.12.1
release     : 1
homepage    : https://nodejs.org/
upstreams   :
    - https://nodejs.org/dist/v18.12.1/node-v18.12.1.tar.gz : ba8174dda00d5b90943f37c6a180a1d37c861d91e04a4cb38dc1c0c74981c186
summary     : A JavaScript runtime environment.
description : |
    Node.js is an open-source, cross-platform JavaScript runtime environment.
license     : MIT
builddeps   :
    - gcc-devel
    - binary(python)
    - pkgconfig(bzip2)
    - pkgconfig(libbrotlicommon)
    - pkgconfig(libnghttp2)
    - pkgconfig(openssl)
    - pkgconfig(zlib)
setup       : |
    %patch %(pkgdir)/python-3.11-compatibility.patch

    ./configure \
        --prefix=%(prefix) \
        --shared-brotli \
        --shared-nghttp2 \
        --shared-openssl \
        --shared-zlib
build       : |
    %make
install     : |
    %make_install
